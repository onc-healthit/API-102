{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"API Resource Guide \u00b6 How to use this resource guide \u00b6 This informative document supplements other public documentation available to help health IT developers certify to the API criteria in the ONC Health IT Certification Program and meet the requirements under the API Conditions and Maintenance of Certification. At the highest level, this document mirrors the organization of paragraphs in the Code of Federal Regulations, including headers for \u201c\u00a7 170.315( g)(10 ) Standardized API Certification Criterion\u201d (the FHIR -based standardized API ), \u201c\u00a7 170.404 Conditions and Maintenance of Certification\u201d (the broader API behavior requirements), and sub-paragraphs. It also contains standalone sections for topics that generate a lot of questions, like \u201cReal World Testing of APIs \u201d and \u201cStandards Version Advancement Process and APIs .\u201d Efforts have been made to make this document easily navigable, searchable, and consumable. If you have recommendations to improve this document, please submit an inquiry to the Health IT Feedback and Inquiry Portal or submit an issue on GitHub . This document is intended to provide clarifications to assist developers to implement applicable provisions contained in 45 CFR part 170 . In developing and implementing APIs and other health IT, developers should remain mindful of the information blocking privisions of the ONC Cures Act Final Rule contained in 45 CFR part 171 . This document does not supersede existing statutory or regulatory requirements. The use of the term \u201cHealth IT Module(s)\u201d or \u201ccertified Health IT Module(s)\u201d in this document refers to Health IT Modules certified through the ONC Health IT Certification Program . [This paragraph is repetitive] This resource encompasses clarifications from the \u00a7 170.315( g)(10 ) Certification Companion Guide ( CCG ) and \u00a7 170.404 CCG . Within each regulation paragraph, there is a section titled \u201cClarifications Included in [name of CCG ],\u201d which includes clarifications from the respective CCG , and \u201cAdditional Clarifications to the [name of CCG ],\u201d which includes additional clarifications not included in the respective CCG . This documentation accompanies the Certification Companion Guide ( CCG ) and Test Procedure for the Standardized API for patient and population services certification criterion finalized at \u00a7 170.315( g)(10 ) and the CCG for API Conditions and Maintenance of Certification requirements finalized at \u00a7 170.404 .","title":"Home"},{"location":"#api-resource-guide","text":"","title":"API Resource Guide"},{"location":"#how-to-use-this-resource-guide","text":"This informative document supplements other public documentation available to help health IT developers certify to the API criteria in the ONC Health IT Certification Program and meet the requirements under the API Conditions and Maintenance of Certification. At the highest level, this document mirrors the organization of paragraphs in the Code of Federal Regulations, including headers for \u201c\u00a7 170.315( g)(10 ) Standardized API Certification Criterion\u201d (the FHIR -based standardized API ), \u201c\u00a7 170.404 Conditions and Maintenance of Certification\u201d (the broader API behavior requirements), and sub-paragraphs. It also contains standalone sections for topics that generate a lot of questions, like \u201cReal World Testing of APIs \u201d and \u201cStandards Version Advancement Process and APIs .\u201d Efforts have been made to make this document easily navigable, searchable, and consumable. If you have recommendations to improve this document, please submit an inquiry to the Health IT Feedback and Inquiry Portal or submit an issue on GitHub . This document is intended to provide clarifications to assist developers to implement applicable provisions contained in 45 CFR part 170 . In developing and implementing APIs and other health IT, developers should remain mindful of the information blocking privisions of the ONC Cures Act Final Rule contained in 45 CFR part 171 . This document does not supersede existing statutory or regulatory requirements. The use of the term \u201cHealth IT Module(s)\u201d or \u201ccertified Health IT Module(s)\u201d in this document refers to Health IT Modules certified through the ONC Health IT Certification Program . [This paragraph is repetitive] This resource encompasses clarifications from the \u00a7 170.315( g)(10 ) Certification Companion Guide ( CCG ) and \u00a7 170.404 CCG . Within each regulation paragraph, there is a section titled \u201cClarifications Included in [name of CCG ],\u201d which includes clarifications from the respective CCG , and \u201cAdditional Clarifications to the [name of CCG ],\u201d which includes additional clarifications not included in the respective CCG . This documentation accompanies the Certification Companion Guide ( CCG ) and Test Procedure for the Standardized API for patient and population services certification criterion finalized at \u00a7 170.315( g)(10 ) and the CCG for API Conditions and Maintenance of Certification requirements finalized at \u00a7 170.404 .","title":"How to use this resource guide"},{"location":"about/","text":"About \u00b6 About us \u00b6 The Office of the National Coordinator for Health IT ( ONC ) is a federal agency located in the Office of the Secretary of the U.S. Department of Health and Human Services. ONC 's mission is to: \"Improve the health and well-being of individuals and communities through the use of technology and health information that is accessible when and where it matters most\" Learn more at our website, healthIT.gov and please check out all our open source interoperability tools at the ONC GitHub ! Background on API certification & API Conditions and Maintenance of Certification requirements \u00b6 ONC Cures Act Final Rule and Interim Final Rule - ( g)(10 ) & API Conditions and Maintenance of Certification \u00b6 The 21st Century Cures Act (Section 4002) and subsequent ONC Cures Act Final Rule established a condition of certification requirement in the ONC Health IT Certification Program which requires applicable health IT developers participating in the program to develop and deploy a standardized API : \u201chealth information from such technology [is] to be accessed, exchanged, and used without special effort through the use of APIs or successor technology or standards, as provided for under applicable law.\u201d This requirement also states that a health IT developer must, through an API : \u201cprovide access to all data elements of a patient's electronic health record to the extent permissible under applicable privacy laws.\u201d ONC finalized a certification criterion for APIs for single and multiple patient services at \u00a7 170.315( g)(10 ) to replace the certification criterion at \u00a7\u2009170.315( g)(8 ). Additionally, ONC finalized API Conditions and Maintenance of Certification requirements at \u00a7 170.404 that apply to health IT developers certified to criteria \u00a7 170.315( g)(7 ), \u00a7 170.315( g)(8 ), \u00a7 170.315( g)(9 ), and \u00a7 170.315( g)(10 ). Helpful links \u00b6 Reference document links \u00b6 \u00a7 170.315( g)(10 ) Certification Companion Guide ( CCG ) \u00a7 170.315( g)(10 ) Test Procedure \u00a7 170.404 Certification Companion Guide ( CCG ) Testing tool links \u00b6 Inferno Program Edition Inferno Program Edition Online Demonstration Instance Inferno Program Edition Installation and Deployment Instructions Rules and regulations links \u00b6 Cures Act Final Rule \u00a7 170.315( g)(10 ) Preamble \u00a7 170.315( g)(10 ) Regulation text \u00a7 170.404 Preamble \u00a7 170.404 Regulation text Interim Final Rule with Comment Period \u00a7 170.315( g)(10 ) Preamble \u00a7 170.315( g)(10 ) Regulation text \u00a7 170.404 Preamble \u00a7 170.404 Regulation text Code of Federal Regulations \u00a7 170.315( g)(10 ) Standardized API for patient and population services \u00a7 170.404 Application Programming Interfaces Links to adopted standards for API criteria \u00b6 HL7 FHIR API criterion - ( g)(10 ) \u00b6 \u00a7 170.213 : United States Core Data for Interoperability (USCDI) \u00a7 170.215( a)(1 ): Health Level 7 ( HL7 \u00ae) Version 4.0.1 Fast Healthcare Interoperability Resources Specification ( FHIR \u00ae) Release 4, October 30, 2019 \u00a7 170.215( a)(2 ): FHIR \u00ae US Core Implementation Guide STU V3.1.1 \u00a7 170.215( a)(3 ): HL7 \u00ae SMART Application Launch Framework Implementation Guide Release 1.0.0 \u00a7 170.215(a)(4): HL7 \u00ae FHIR Bulk Data Access (Flat FHIR ) (V1.0.0:STU 1) \u00a7 170.215(b): OpenID Connect Core 1.0 incorporating errata set 1","title":"About"},{"location":"about/#about","text":"","title":"About"},{"location":"about/#about-us","text":"The Office of the National Coordinator for Health IT ( ONC ) is a federal agency located in the Office of the Secretary of the U.S. Department of Health and Human Services. ONC 's mission is to: \"Improve the health and well-being of individuals and communities through the use of technology and health information that is accessible when and where it matters most\" Learn more at our website, healthIT.gov and please check out all our open source interoperability tools at the ONC GitHub !","title":"About us"},{"location":"about/#background-on-api-certification-api-conditions-and-maintenance-of-certification-requirements","text":"","title":"Background on API certification &amp; API Conditions and Maintenance of Certification requirements"},{"location":"about/#onc-cures-act-final-rule-and-interim-final-rule-g10-api-conditions-and-maintenance-of-certification","text":"The 21st Century Cures Act (Section 4002) and subsequent ONC Cures Act Final Rule established a condition of certification requirement in the ONC Health IT Certification Program which requires applicable health IT developers participating in the program to develop and deploy a standardized API : \u201chealth information from such technology [is] to be accessed, exchanged, and used without special effort through the use of APIs or successor technology or standards, as provided for under applicable law.\u201d This requirement also states that a health IT developer must, through an API : \u201cprovide access to all data elements of a patient's electronic health record to the extent permissible under applicable privacy laws.\u201d ONC finalized a certification criterion for APIs for single and multiple patient services at \u00a7 170.315( g)(10 ) to replace the certification criterion at \u00a7\u2009170.315( g)(8 ). Additionally, ONC finalized API Conditions and Maintenance of Certification requirements at \u00a7 170.404 that apply to health IT developers certified to criteria \u00a7 170.315( g)(7 ), \u00a7 170.315( g)(8 ), \u00a7 170.315( g)(9 ), and \u00a7 170.315( g)(10 ).","title":"ONC Cures Act Final Rule and Interim Final Rule - (g)(10) &amp; API Conditions and Maintenance of Certification"},{"location":"about/#helpful-links","text":"","title":"Helpful links"},{"location":"about/#reference-document-links","text":"\u00a7 170.315( g)(10 ) Certification Companion Guide ( CCG ) \u00a7 170.315( g)(10 ) Test Procedure \u00a7 170.404 Certification Companion Guide ( CCG )","title":"Reference document links"},{"location":"about/#testing-tool-links","text":"Inferno Program Edition Inferno Program Edition Online Demonstration Instance Inferno Program Edition Installation and Deployment Instructions","title":"Testing tool links"},{"location":"about/#rules-and-regulations-links","text":"Cures Act Final Rule \u00a7 170.315( g)(10 ) Preamble \u00a7 170.315( g)(10 ) Regulation text \u00a7 170.404 Preamble \u00a7 170.404 Regulation text Interim Final Rule with Comment Period \u00a7 170.315( g)(10 ) Preamble \u00a7 170.315( g)(10 ) Regulation text \u00a7 170.404 Preamble \u00a7 170.404 Regulation text Code of Federal Regulations \u00a7 170.315( g)(10 ) Standardized API for patient and population services \u00a7 170.404 Application Programming Interfaces","title":"Rules and regulations links"},{"location":"about/#links-to-adopted-standards-for-api-criteria","text":"","title":"Links to adopted standards for API criteria"},{"location":"about/#hl7-fhir-api-criterion-g10","text":"\u00a7 170.213 : United States Core Data for Interoperability (USCDI) \u00a7 170.215( a)(1 ): Health Level 7 ( HL7 \u00ae) Version 4.0.1 Fast Healthcare Interoperability Resources Specification ( FHIR \u00ae) Release 4, October 30, 2019 \u00a7 170.215( a)(2 ): FHIR \u00ae US Core Implementation Guide STU V3.1.1 \u00a7 170.215( a)(3 ): HL7 \u00ae SMART Application Launch Framework Implementation Guide Release 1.0.0 \u00a7 170.215(a)(4): HL7 \u00ae FHIR Bulk Data Access (Flat FHIR ) (V1.0.0:STU 1) \u00a7 170.215(b): OpenID Connect Core 1.0 incorporating errata set 1","title":"HL7 FHIR API criterion - (g)(10)"},{"location":"g10-criterion/","text":"Standardized API Certification Criterion at \u00a7 170.315( g)(10 ) \u00b6 This section considers the standardized API for patient and population services certification criterion, including all of the content contained in the ONC Cures Act Final Rule API preamble , the IFC API preamble , and the regulation paragraphs in \u00a7 170.315( g)(10 ). Summary \u00b6 The criterion defined at \u00a7 170.315( g)(10 ) requires certified Health IT Modules to support: Standardized HL7 FHIR -based API for single patient services Standardized HL7 FHIR -based API for multiple patient services Applicability \u00b6 \u00a7 170.315( g)(10 ) is for all health IT developers who are certifying to the EHR base definition. The API certification criterion finalized in \u00a7 170.315( g)(10 ) was included as part of the EHR Base Definition at \u00a7 170.102. While developers of health information technology are not required by the ONC to meet certification requirements, including certification requirements that are included as part of the EHR Base Definition, several federal, state and tribal entities, including Centers for Medicare & Medicaid Services, Centers for Disease Control and Prevention, and other programs reference the ONC Health IT Certification Program and require the use of certified health IT for program participation. Tools for testing and certification \u00b6 Inferno Program Edition The Inferno Program Edition is used for ( g)(10 ) API testing for the ONC Health IT Certification Program . The Inferno Program Edition is a streamlined testing tool for services seeking to meet the requirements of the Standardized API for Patient and Population Services criterion finalized at \u00a7 170.315( g)(10 ). It is based on the requirements in the ONC Cures Act Final Rule and associated test procedure for \u00a7 170.315( g)(10 ) . This tool is used for testing and certification to the \u00a7 170.315( g)(10 ) certification criterion for the ONC Health IT Certification Program . Technical Explanations and Clarifications \u00b6 Information and Clarifications for Entire Criterion \u00b6 Standardized API for Single Patient Services \u00b6 \u00a7 170.315( g)(10 ) requires certified Health IT Modules to support an API for single patient services. The \u00a7 170.315( g)(10 ) certification criterion includes requirements for Health IT Modules to support an API for single patient services in \u00a7 170.315( g)(10 )(i)(A) , \u00a7 170.315( g)(10 )(ii)(A) , \u00a7 170.315( g)(10 )(iii) , \u00a7 170.315( g)(10 )(iv)(A) , \u00a7 170.315( g)(10 )(v)(A) , \u00a7 170.315( g)(10 )(vii) , and \u00a7 170.315( g)(10 )(viii) . Standardized API for Multiple Patient Services \u00b6 \u00a7 170.315( g)(10 ) requires certified Health IT Modules to support an API for multiple patient services. The \u00a7 170.315( g)(10 ) certification criterion includes requirements for Health IT Modules to support an API for multiple patient services in \u00a7 170.315( g)(10 )(i)(B) , \u00a7 170.315( g)(10 )(ii)(B) , \u00a7 170.315( g)(10 )(iii) , \u00a7 170.315( g)(10 )(iv)(B) , \u00a7 170.315( g)(10 )(v)(B) , \u00a7 170.315( g)(10 )(vii) , and \u00a7 170.315( g)(10 )(viii) . We have not included a requirement for Bulk FHIR import because the standards for these features are still being developed by industry. Applications or systems seeking to import information formatting according to the HL7 \u00ae FHIR Bulk Data Access (Flat FHIR ) (V1.0.0:STU 1) can use several methods developed by industry, or can refer to Bulk FHIR import methods being defined by HL7 at the HL7 FHIR Bulk Data GitHub page . Applicability \u00b6 \u00a7 170.315( g)(10 ) is for all health IT developers who are certifying to the EHR base definition. The API certification criterion finalized in \u00a7 170.315( g)(10 ) was included as part of the EHR Base Definition at \u00a7 170.102 . While developers of health information technology are not required by the ONC to meet certification requirements, including certification requirements that are included as part of the EHR Base Definition, several federal, state and tribal entities, including Centers for Medicare & Medicaid Services , Centers for Disease Control and Prevention , and other programs reference the ONC Health IT Certification Program and require the use of certified health IT for program participation. Clarifications \u00b6 Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): On December 31, 2022, the API certification criterion in \u00a7\u2009170.315( g)(10 ) replaces the \u201capplication access\u2014data category request\u201d certification criterion (\u00a7\u2009170.315( g)(8 )). Health IT Modules are not required to support patient-facing API -enabled \u201cread\u201d services for multiple patients for the purposes of this certification criterion. The clinical note text included in any of the notes described in the \u201cClinical Notes Guidance\u201d section of the US Core IG adopted in \u00a7\u2009170.215( a)(2 ) must be represented in a \u201cplain text\u201d form, and it would be unacceptable for the note text to be converted to another file or format (e.g., .docx, PDF) when it is provided as part of an API response. The intent of this policy is to prohibit Health IT Modules from converting clinical notes from a \u201cmachine readable\u201d format to a non-\u201cmachine readable\u201d format (e.g., PDF). Clinical note text that originates from outside Health IT Modules should be exchanged using its original format. Additionally, \u201cplain text\u201d does not necessarily mean the FHIR \u201ccontentType\u201d \u201ctext/plain.\u201d The US Core IG Profile \u201cStructureDefinition-us-core-patient\u201d element \u201cname.suffix\u201d is required for testing and certification in the ONC Certification Program to meet the USCDI requirement to support the \u201cPatient Demographics\u201d Data Class: \u201cSuffix\u201d Data Element. Either the US Core IG Profile \u201cStructureDefinition-us-core-patient\u201d element \u201cname.period\u201d or \u201cname.use\u201d is required for testing and certification in the ONC Certification Program to meet the USCDI requirement to support the \u201cPatient Demographics\u201d Data Class: \u201cPrevious Name\u201d Data Element. A Health IT Module must support at least one Choice or Reference for US Core IG \u201cmust support\u201d elements with multiple Choices or References, respectively. A Health IT Module must be conformant to the US Core IG for all Choices and References included in its standardized API , and cannot misrepresent Choices via the standardized API (e.g. a Health IT Module cannot transform \u201cinteger\u201d values to \u201cstring\u201d values). A health IT developer must document which US Core IG Choices and References are supported by their Health IT Module via public technical documentation to meet the requirements at \u00a7 170.315( g)(10 )(viii) and the transparency conditions at \u00a7 170.404 ( a)(2 ). Information originating from the ( g)(10 )-certified Health IT Module must conform to the requirements included in the criterion, but legacy information and information from outside systems is not required to be mapped to the United States Core Data for Interoperability (USCDI) \u201cApplicable Standards\u201d and the US Core IG terminologies and value sets. However, health IT developers are encouraged to exceed the minimum requirements described in \u00a7 170.315( g)(10 ) to support the mapping of legacy information to the terminologies and value sets included in the USCDI and US Core IG where possible. Additional Clarifications to the ( g)(10 ) CCG : The API certification criterion in \u00a7\u2009170.315( g)(10 ) replaces the \u201capplication access\u2014data category request\u201d certification criterion (\u00a7\u2009170.315( g)(8 )) and supports API -enabled \u201cread\u201d services for single and multiple patients. The term \u201cservices\u201d includes all \u00a7 170.315( g)(10 )-related technical capabilities included in a Health IT Module presented for testing and certification. The API -enabled \u201cread\u201d services for single patients is intended to support EHI requests and responses for individual patient records and the API -enabled \u201cread\u201d services for multiple patients is intended to support EHI requests and responses for multiple patients\u2019 records. The scope of patient cohorts for \u201cpopulation services\u201d can include various groups defined at the discretion of the user of the API -enabled \u201cread\u201d services for multiple patients, including, for example, a group of patients that meet certain disease criteria or fall under a certain insurance plan. The information blocking policies established by the ONC Cures Act Final Rule do not compel health care providers to implement Health IT Modules certified to requirements in \u00a7\u2009170.315( g)(10 ). While there may be slight variation between each instance of a Standardized API for Patient and Population Services Health IT Module implemented by API Information Sources, we believe the standards that form the basis of the \u00a7 170.315( g)(10 ) certification criterion will enable interoperability across implementations. Examples of \u201cmust support\u201d in the US Core IG 3.1.1: In US Core 3.1.1, the profile element Observation.value[x] contains the following Choices: Quantity, CodeableConcept, string, boolean, integer, Range, Ratio, SampledData, time, dateTime, Period A Health IT Module must support at least one of these Choices via the ( g)(10 ) standardized API . In US Core 3.1.1, the profile element Provenance.agent.who contains the following References: US Core Practitioner Profile, US Core Patient Profile, US Core Organization Profile A Health IT Module must support at least one of these References via the ( g)(10 ) standardized API . Data Response (Single Patient) - \u00a7 170.315( g)(10 )(i)(A) \u00b6 Regulation text : (i) Data response. (A) Respond to requests for a single patient's data according to the standard adopted in \u00a7\u2009170.215( a)(1 ) and implementation specification adopted in \u00a7\u2009170.215( a)(2 ), including the mandatory capabilities described in \u201cUS Core Server CapabilityStatement,\u201d for each of the data included in the standard adopted in \u00a7\u2009 170.213 . All data elements indicated as \u201cmandatory\u201d and \u201cmust support\u201d by the standards and implementation specifications must be supported. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): All data elements and operations indicated as \u201cmandatory\u201d and \u201cmust support\u201d by the standards and implementation specifications must be supported and are in-scope for testing. For \u201cEncounter,\u201d \u201cOrganization,\u201d and \u201cPractitioner,\u201d US Core IG profiles, only the \u201cread\u201d type interaction must be supported and will be included in testing and certification. For the \u201cLocation\u201d FHIR resource, Health IT Modules must either demonstrate support for the \u201cread\u201d type interaction or demonstrate support for providing the \u201cLocation\u201d and FHIR resource references as a contained resource. The \u201csearch\u201d type interactions for these profiles and resource are not in scope for testing and certification. Health IT Modules must support these US Core IG profiles / FHIR resource because they are included as \u201cmust support\u201d data elements in US Core IG profiles required by the USCDI. Health IT Modules must support provenance according to the \u201cBasic Provenance Guidance\u201d section of the US Core IG . Data Response (Multiple Patients) - \u00a7 170.315( g)(10 )(i)(B) \u00b6 Regulation text : (B) Respond to requests for multiple patients' data as a group according to the standard adopted in \u00a7\u2009170.215( a)(1 ), and implementation specifications adopted in \u00a7\u2009170.215( a)(2 ) and (4), for each of the data included in the standard adopted in \u00a7\u2009 170.213 . All data elements indicated as \u201cmandatory\u201d and \u201cmust support\u201d by the standards and implementation specifications must be supported. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): Health IT Modules may support scopes using either \u201csystem/*.read\u201d or a list of \u201csystem/[resource].read,\u201d where [resource] is the FHIR resource name, to enable the export of multiple patients\u2019 data as a group. During testing and certification for multiple patient services, Health IT Modules must demonstrate support for \u201cEncounter,\u201d \u201cOrganization,\u201d and \u201cPractitioner\u201d US Core IG FHIR Profiles. Health IT Modules must demonstrate support for \u201cLocation\u201d FHIR resources by providing this resource as part of the multiple patient services response, or by including it as a contained resource as part of the multiple patient services response. Health IT Modules must support provenance according to the \u201cBasic Provenance Guidance\u201d section of the US Core IG . Supported Search Operations (Single Patient) - \u00a7 170.315( g)(10 )(ii)(A) \u00b6 Regulation text : (ii) Supported search operations. (A) Respond to search requests for a single patient's data consistent with the search criteria included in the implementation specification adopted in \u00a7\u2009170.215( a)(2 ), specifically the mandatory capabilities described in \u201cUS Core Server CapabilityStatement.\u201d Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): All data elements indicated as \u201cmandatory\u201d and \u201cmust support\u201d by the standards and implementation specifications must be supported and are in scope for testing. Additional Clarifications to the ( g)(10 ) CCG : The scope of data available in the data responses defined in \u00a7 170.315( g)(10 )(i) must be supported for searches for multiple patients via the supported search operations finalized in \u00a7 170.315( g)(10 )(ii). Supported Search Operations (Multiple Patients) - \u00a7 170.315( g)(10 )(ii)(B) \u00b6 Regulation text : (B) Respond to search requests for multiple patients' data consistent with the search criteria included in the implementation specification adopted in \u00a7\u2009170.215(a)(4) Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): No additional clarifications. Additional Clarifications to the ( g)(10 ) CCG : The scope of data available in the data responses defined in \u00a7 170.315( g)(10 )(i) must be supported for searches for multiple patients via the supported search operations finalized in \u00a7 170.315( g)(10 )(ii). The HL7 FHIR Bulk Data Access (Flat FHIR ) (v1.0.0: STU 1) implementation specification adopted in \u00a7 170.215(a)(4) includes mandatory support for the \u201cgroup-export\u201d \"OperationDefinition.\" Application Registration - \u00a7 170.315( g)(10 )(iii) \u00b6 Regulation text : (iii) Application registration. Enable an application to register with the Health IT Module's \u201cauthorization server.\u201d Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): Health IT presented for testing and certification must support app registration regardless of the scope of patient search utilized by the application (e.g. single or multiple). This certification criterion requires a health IT developer, as finalized in the Condition of Certification requirements, to demonstrate its registration process, but does not require conformance to a standard. The third-party application registration process that a health IT developer must meet under this criterion is not a form of review or \u201cvetting\u201d for purposes of this criterion. For demonstration of the SMART IG \"Standalone Launch\" steps, health IT developers are permitted to scope US Core IG resources that do not exist in either the standard adopted at \u00a7 170.213 (USCDI version 1) or the \"Compartment Patient\" section of the standard adopted at \u00a7 170.215( a)(1 ) ( HL7 FHIR Release 4.0.1) as either patient/[Resource] or user/[Resource]. These resources include \u201cEncounter,\u201d \u201cDevice,\u201d \u201cLocation,\u201d \u201cMedication,\u201d \u201cOrganization,\u201d \u201cPractitioner,\u201d and \u201cPractitionerRole.\u201d Health IT developers must document their supported scopes according to the technical documentation requirements at \u00a7 170.315( g)(10 )(viii)(A) and \u00a7 170.404 ( a)(2 ). Additional Clarifications to the ( g)(10 ) CCG : We expect that apps executed within an implementer\u2019s clinical environment will be registered with an authorization server, but we do not require a health IT developer to demonstrate its registration process for these \u201cprovider-facing\u201d apps. The requirement that health IT developers must enable an application to register with the \u00a7 170.315( g)(10 )-certified Health IT Module\u2019s authorization server only applies for the purposes of demonstrating technical conformance to the finalized certification criterion and API Condition and Maintenance of Certification requirements. The practices by all parties (including implementers of Health IT Modules) other than developers of certified Health IT Modules are not in scope for this certification criterion nor the associated Condition and Maintenance of Certification requirements. Any practices associated with third-party application review or \u201cvetting\u201d by implementers must not violate the information blocking provisions established in the ONC Cures Act Final Rule . Secure Connection (Patient / User Scopes) - \u00a7 170.315( g)(10 )(iv)(A) \u00b6 Regulation text : (iv) Secure connection. (A) Establish a secure and trusted connection with an application that requests data for patient and user scopes in accordance with the implementation specifications adopted in \u00a7\u2009170.215( a)(2 ) and (3). Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): Connections below TLS version 1.2 must be denied. Secure Connection (System Scopes) - \u00a7 170.315( g)(10 )(iv)(B) \u00b6 Regulation text : (B) Establish a secure and trusted connection with an application that requests data for system scopes in accordance with the implementation specification adopted in \u00a7\u2009170.215(a)(4). Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): Connections below TLS version 1.2 must be denied. First-time Authentication / Authorization for Single Patient Services - \u00a7 170.315( g)(10 )(V)(A)(1) \u00b6 Regulation text : (v) Authentication and authorization\u2014(A) Authentication and authorization for patient and user scopes\u2014(1) First time connections\u2014(i) Authentication and authorization must occur during the process of granting access to patient data in accordance with the implementation specification adopted in \u00a7\u2009170.215( a)(3 ) and standard adopted in \u00a7\u2009170.215(b). (ii) A Health IT Module's authorization server must issue a refresh token valid for a period of no less than three months to applications capable of storing a client secret. (iii) A Health IT Module's authorization server must issue a refresh token for a period of no less than three months to native applications capable of securing a refresh token. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): Health IT Modules will be explicitly tested for US Core IG operations using authentication and authorization tokens acquired via the process described in the implementation specification adopted in \u00a7 170.215( a)(3 ). Only the relevant parts of the OpenID Connect Core 1.0 including errata set 1 adopted in \u00a7 170.215(b) that are also included in the implementation specification adopted in \u00a7 170.215( a)(3 ) will be in-scope for testing and certification. The \u201cSMART on FHIR Core Capabilities\u201d in \u00a7 170.215( a)(3 ) are explicitly required for testing and certification because these capabilities are otherwise indicated as optional in the implementation specification. As part of the \u201cpermission-patient\u201d \u201cSMART on FHIR Core Capability\u201d in \u00a7\u2009170.215( a)(3 ), Health IT Modules presented for testing and certification must include the ability for patients to authorize an application to receive their electronic health information (EHI) based on FHIR resource-level scopes. Specifically, this means patients would need to have the ability to authorize access to their EHI at the individual FHIR resource level, from one specific FHIR resource (e.g., \u201cImmunization\u201d) up to all FHIR resources necessary to implement the standard adopted in \u00a7\u2009 170.213 and implementation specification adopted in \u00a7\u2009170.215( a)(2 ). Although Health IT Modules presented for testing and certification must include the ability for patients to authorize an application to receive their EHI based on FHIR resource-level scopes, Health IT Modules are not prohibited from presenting authorization scopes in a more user-friendly format (e.g. grouping resources under categories, renaming the scopes for easier comprehension by the end-user, using more granular scopes), as long as the ability for patients to authorize applications based on resource-level scopes is available, if requested by the patient. Health IT Modules will only be tested for the \"Patient Access for Standalone Apps\" and \"Clinician Access for EHR Launch\" scenarios described in the standard adopted at \u00a7 170.215( a)(3 ). Since \"Encounter\" is not currently a USCDI Data Class or Data Element, we will not test Health IT Modules for support for \"context-ehr-encounter\" or \"context-standalone-encounter\" SMART on FHIR Core Capabilities described in the standard adopted at \u00a7\u2009170.215( a)(3 ).\u2009 Implementers of \u00a7\u2009170.315( g)(10 )-certified Health IT Modules should be mindful of the information blocking provisions. As part of the requirements at \u00a7\u2009170.315( g)(10 )(v)(A)(1)(iii), health IT developers must publish the method(s) by which their Health IT Modules support the secure issuance of an initial refresh token to native applications according to the technical documentation requirements at \u00a7\u2009170.315( g)(10 )(viii) and transparency conditions at \u00a7 170.404 ( a)(2 ). Application developer affirmations to health IT developers regarding the ability of their applications to secure a refresh token, a client secret, or both, must be treated in a good faith manner consistent with the provisions established in the openness and pro-competitive conditions at \u00a7\u2009 170.404 (a)(4). Health IT developers can determine the method(s) they use to support interactions with native applications and clarify that health IT developers are not required to support all methods third-party application developers seek to use. ONC recognizes there may be some ambiguity in the HL7 \u00ae SMART Application Launch Framework Implementation Guide Release 1.0.0 standard (incorporated by reference at \u00a7 170.215( a)(3 )) in its guidance for supporting native applications, in particular, in providing references to best practices, strategies, and examples such as \u201cOAuth 2.0 for Native Apps: 8.5. Client Authentication\u201d, \u201cOAuth 2.0 Dynamic Client Registration Protocol\u201d, and \u201cuniversal redirect_uris\u201d without a standardized solution. ONC provides flexibility for how the health IT developer implements the HL7 \u00ae SMART Application Launch Framework implementation specification, as long as the Certified Health IT Module supports for first time connections the issuance of three-month refresh tokens to native applications capable of securing a refresh token. The paragraph at \u00a7 170.215( a)(3 ) requires health IT developers to support the SMART Application Launch Framework Implementation Guide (SMART IG ) \u201cSMART [on FHIR ] Core Capabilities,\u201d including \u201cpermission-offline,\u201d which grants support for refresh tokens. The ONC Cures Act Final Rule states, \u201c\u2026Importantly, the implementation specification adopted in \u00a7\u2009170.215( a)(3 ) requires that patients have the ability to explicitly enable the \u201coffline_access\u201d scope during authorization. If the \u201coffline_access\u201d scope is not enabled by patients, patients will be required to re-authenticate and re-authorize an application's access to their EHI after the application's access token expires\u2026\u201d ( 85 FR 25747 ). However, the ability of a patient to explicitly enable the \u201coffline_access\u201d scope during authorization is not described in the implementation specification. ONC clarifies that health IT developers must support the ability for patients to be provided information about an application\u2019s request for persistent access prior to the patient sharing their health information, in order to enable patients to make an informed decision during authorization. Examples include, but are not limited to a health IT developer allowing patients to granularly grant \u201coffline-access\u201d scopes during authorization or clearly providing this information as a notice during authorization. The critical requirement is that patients are empowered to deny authorization for offline access. Additional Clarifications to the ( g)(10 ) CCG : We expect implementers of \u00a7 170.315( g)(10 )-certified Health IT Modules to have the capability of revoking refresh tokens where appropriate. Neither \u00a7 170.315( g)(10 ) nor applicable API Condition and Maintenance of Certification requirements require restricting discretion of implementers (health care providers, clinician practices, hospitals, etc.) to set the length of refresh tokens for users of the API including patients and health care providers to align with their institutional policies. Implementers of \u00a7 170.315( g)(10 )-certified Health IT Modules are not prohibited from implementing their \u00a7 170.315( g)(10 )-certified Health IT Modules in accordance with their organizational security policies and posture, including by instituting policies for reauthentication and re-authorization (e.g., health care providers and/or patients could always be required to re-authenticate and re-authorize after a set number of refresh tokens have been issued). Patients are not prohibited from changing the length of refresh tokens to the degree this option is available to them. Implementers of \u00a7\u2009170.315( g)(10 )-certified Health IT Modules should be mindful of information blocking provisions applicable to them and that requiring patients to reauthenticate and re-authorize at a high frequency could inhibit patient access and implicate information blocking. Refresh Tokens for Native Applications In RFC 6749 (OAuth 2.0) and the HL7 \u00ae SMART Application Launch Framework Implementation Guide Release 1.0.0 (SMART IG ) , some native applications are unable to claim they are confidential . By definition, these non-confidential native applications do not have a client_secret to exchange during the client authentication process. However, there are additional methods that non-confidential native applications can use to increase refresh token security during \u201cFirst time connections.\u201d Methods like Proof Key for Code Exchange (PKCE), the use of application-claimed, private-use Uniform Resource Identifier (URI) schemes as redirect URIs, and utilizing on device secure storage techniques to securely store the refresh token can increase the security of an initial refresh token. Methods like these ensure that an authorization server issues initial access and refresh tokens to the correct corresponding authorized application. The paragraph in \u00a7 170.315( g)(10 )(v)(A)(1)(iii) requires that Health IT Modules provide support for the issuance of an initial refresh token to native applications capable of securing a refresh token. Subsequent Authentication / Authorization for Single Patient Services - \u00a7 170.315( g)(10 )(V)(A)(2) \u00b6 Regulation text : (2) Subsequent connections. (i) Access must be granted to patient data in accordance with the implementation specification adopted in \u00a7\u2009170.215( a)(3 ) without requiring reauthorization and re-authentication when a valid refresh token is supplied by the application. (ii) A Health IT Module's authorization server must issue a refresh token valid for a new period of no less than three months to applications capable of storing a client secret. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): No additional clarifications. Additional Clarifications to the ( g)(10 ) CCG : For subsequent connections, certified Health IT Modules are not required to issue a new refresh token, but must issue a refresh token valid for a new period of no less than three months. Whether the application receives a \u201cnew\u201d refresh token is an implementation decision left to the health IT developer, as long as the \u201crefreshed\u201d refresh token is valid for a new period of no less than three months. Refresh Tokens and Clients \"Capable of Storing a Client Secret\" As specified in RFC 6749 (OAuth 2.0) and the HL7 \u00ae SMART Application Launch Framework Implementation Guide Release 1.0.0 (SMART IG ) , authorization servers send and receive refresh tokens from their clients in two different parts of an OAuth 2.0 flow. First, after resource owner authorization, the authorization server sends an initial refresh token to the client with the initial access token. Second, when an access token has expired and needs to be refreshed, a client exchanges a refresh token for a new access token and optionally another refresh token, which occurs without user authorization. During both exchanges, security is increased (i.e. protecting against leaked refresh tokens) for confidential clients that have a client secret used for client authentication. The ( g)(10 ) criterion paragraphs at \u00a7 170.315( g)(10 )(v)(A)(1)(ii) and \u00a7 170.315( g)(10 )(v)(A)(2)(ii) require that clients \u201ccapable of storing a client secret\u201d must be given refresh tokens during both of these parts of the OAuth 2.0 flow. Requiring that such clients be given a refresh token valid for a new period of three months during this second part of the OAuth 2.0 flow enables indefinite persistent access without the need for user re-authorization. Authentication / Authorization for Multiple Patient Services - \u00a7 170.315( g)(10 )(V)(B) \u00b6 Regulation text : (B) Authentication and authorization for system scopes. Authentication and authorization must occur during the process of granting an application access to patient data in accordance with the \u201cSMART Backend Services: Authorization Guide\u201d section of the implementation specification adopted in \u00a7\u2009170.215(a)(4) and the application must be issued a valid access token. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): No additional clarifications. Patient Authorization Revocation - \u00a7 170.315( g)(10 )(VI) \u00b6 Regulation text : (vi) Patient authorization revocation. A Health IT Module's authorization server must be able to revoke an authorized application's access at a patient's direction. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): This is a functional requirement to allow health IT developers the ability to implement it in a way that best suits their existing infrastructure and allows for innovative models for authorization revocation to develop. Patients are expected to have the ability to revoke an authorized application\u2019s access to their EHI at any time. Token Introspection - \u00a7 170.315( g)(10 )(VII) \u00b6 Regulation text : (vii) Token introspection. A Health IT Module's authorization server must be able to receive and validate tokens it has issued. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): Although ONC does not specify a standard for token introspection, ONC encourages industry to coalesce around using a common standard, like OAuth 2.0 Token Introspection (RFC 7662). Technical API Documentation Content - \u00a7 170.315( g)(10 )(VIII)(A) \u00b6 Regulation text : (viii) Documentation. (A) The API (s) must include complete accompanying documentation that contains, at a minimum: (1) API syntax, function names, required and optional parameters supported and their data types, return variables and their types/structures, exceptions and exception handling methods and their returns. (2) The software components and configurations that would be necessary for an application to implement in order to be able to successfully interact with the API and process its response(s). (3) All applicable technical requirements and attributes necessary for an application to be registered with a Health IT Module's authorization server. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): Health IT developers are not required to re-publish documentation from the adopted standards and implementation specifications. However, health IT developers must publish documentation that goes beyond the adopted standards and implementation specifications. Health IT developers are expected to disclose any additional data their \u00a7 170.315( g)(10 )-certified Health IT Module supports in the context of the adopted standards and implementation specifications. Technical API Documentation Availability - \u00a7 170.315( g)(10 )(VIII)(B) \u00b6 Regulation text : (B) The documentation used to meet paragraph ( g)(10 )(viii)(A) of this section must be available via a publicly accessible hyperlink without any preconditions or additional steps. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): No additional clarifications. Other standards not directly referenced in \u00a7 170.315( g)(10 ) \u00b6 Bulk FHIR Import \u00b6 We have not included a requirement for Bulk FHIR import because the standards for these features are still being developed by industry. Applications or systems seeking to import information formatting according to the HL7 \u00ae FHIR Bulk Data Access (Flat FHIR ) (V1.0.0:STU 1) can use several methods developed by industry, or can refer to Bulk FHIR import methods being defined by HL7 at the HL7 FHIR Bulk Data GitHub page.","title":"HL7 FHIR API criterion - (g)(10)"},{"location":"g10-criterion/#standardized-api-certification-criterion-at-170315g10","text":"This section considers the standardized API for patient and population services certification criterion, including all of the content contained in the ONC Cures Act Final Rule API preamble , the IFC API preamble , and the regulation paragraphs in \u00a7 170.315( g)(10 ).","title":"Standardized API Certification Criterion at \u00a7 170.315(g)(10)"},{"location":"g10-criterion/#summary","text":"The criterion defined at \u00a7 170.315( g)(10 ) requires certified Health IT Modules to support: Standardized HL7 FHIR -based API for single patient services Standardized HL7 FHIR -based API for multiple patient services","title":"Summary"},{"location":"g10-criterion/#applicability","text":"\u00a7 170.315( g)(10 ) is for all health IT developers who are certifying to the EHR base definition. The API certification criterion finalized in \u00a7 170.315( g)(10 ) was included as part of the EHR Base Definition at \u00a7 170.102. While developers of health information technology are not required by the ONC to meet certification requirements, including certification requirements that are included as part of the EHR Base Definition, several federal, state and tribal entities, including Centers for Medicare & Medicaid Services, Centers for Disease Control and Prevention, and other programs reference the ONC Health IT Certification Program and require the use of certified health IT for program participation.","title":"Applicability"},{"location":"g10-criterion/#tools-for-testing-and-certification","text":"Inferno Program Edition The Inferno Program Edition is used for ( g)(10 ) API testing for the ONC Health IT Certification Program . The Inferno Program Edition is a streamlined testing tool for services seeking to meet the requirements of the Standardized API for Patient and Population Services criterion finalized at \u00a7 170.315( g)(10 ). It is based on the requirements in the ONC Cures Act Final Rule and associated test procedure for \u00a7 170.315( g)(10 ) . This tool is used for testing and certification to the \u00a7 170.315( g)(10 ) certification criterion for the ONC Health IT Certification Program .","title":"Tools for testing and certification"},{"location":"g10-criterion/#technical-explanations-and-clarifications","text":"","title":"Technical Explanations and Clarifications"},{"location":"g10-criterion/#information-and-clarifications-for-entire-criterion","text":"","title":"Information and Clarifications for Entire Criterion"},{"location":"g10-criterion/#standardized-api-for-single-patient-services","text":"\u00a7 170.315( g)(10 ) requires certified Health IT Modules to support an API for single patient services. The \u00a7 170.315( g)(10 ) certification criterion includes requirements for Health IT Modules to support an API for single patient services in \u00a7 170.315( g)(10 )(i)(A) , \u00a7 170.315( g)(10 )(ii)(A) , \u00a7 170.315( g)(10 )(iii) , \u00a7 170.315( g)(10 )(iv)(A) , \u00a7 170.315( g)(10 )(v)(A) , \u00a7 170.315( g)(10 )(vii) , and \u00a7 170.315( g)(10 )(viii) .","title":"Standardized API for Single Patient Services"},{"location":"g10-criterion/#standardized-api-for-multiple-patient-services","text":"\u00a7 170.315( g)(10 ) requires certified Health IT Modules to support an API for multiple patient services. The \u00a7 170.315( g)(10 ) certification criterion includes requirements for Health IT Modules to support an API for multiple patient services in \u00a7 170.315( g)(10 )(i)(B) , \u00a7 170.315( g)(10 )(ii)(B) , \u00a7 170.315( g)(10 )(iii) , \u00a7 170.315( g)(10 )(iv)(B) , \u00a7 170.315( g)(10 )(v)(B) , \u00a7 170.315( g)(10 )(vii) , and \u00a7 170.315( g)(10 )(viii) . We have not included a requirement for Bulk FHIR import because the standards for these features are still being developed by industry. Applications or systems seeking to import information formatting according to the HL7 \u00ae FHIR Bulk Data Access (Flat FHIR ) (V1.0.0:STU 1) can use several methods developed by industry, or can refer to Bulk FHIR import methods being defined by HL7 at the HL7 FHIR Bulk Data GitHub page .","title":"Standardized API for Multiple Patient Services"},{"location":"g10-criterion/#applicability_1","text":"\u00a7 170.315( g)(10 ) is for all health IT developers who are certifying to the EHR base definition. The API certification criterion finalized in \u00a7 170.315( g)(10 ) was included as part of the EHR Base Definition at \u00a7 170.102 . While developers of health information technology are not required by the ONC to meet certification requirements, including certification requirements that are included as part of the EHR Base Definition, several federal, state and tribal entities, including Centers for Medicare & Medicaid Services , Centers for Disease Control and Prevention , and other programs reference the ONC Health IT Certification Program and require the use of certified health IT for program participation.","title":"Applicability"},{"location":"g10-criterion/#clarifications","text":"Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): On December 31, 2022, the API certification criterion in \u00a7\u2009170.315( g)(10 ) replaces the \u201capplication access\u2014data category request\u201d certification criterion (\u00a7\u2009170.315( g)(8 )). Health IT Modules are not required to support patient-facing API -enabled \u201cread\u201d services for multiple patients for the purposes of this certification criterion. The clinical note text included in any of the notes described in the \u201cClinical Notes Guidance\u201d section of the US Core IG adopted in \u00a7\u2009170.215( a)(2 ) must be represented in a \u201cplain text\u201d form, and it would be unacceptable for the note text to be converted to another file or format (e.g., .docx, PDF) when it is provided as part of an API response. The intent of this policy is to prohibit Health IT Modules from converting clinical notes from a \u201cmachine readable\u201d format to a non-\u201cmachine readable\u201d format (e.g., PDF). Clinical note text that originates from outside Health IT Modules should be exchanged using its original format. Additionally, \u201cplain text\u201d does not necessarily mean the FHIR \u201ccontentType\u201d \u201ctext/plain.\u201d The US Core IG Profile \u201cStructureDefinition-us-core-patient\u201d element \u201cname.suffix\u201d is required for testing and certification in the ONC Certification Program to meet the USCDI requirement to support the \u201cPatient Demographics\u201d Data Class: \u201cSuffix\u201d Data Element. Either the US Core IG Profile \u201cStructureDefinition-us-core-patient\u201d element \u201cname.period\u201d or \u201cname.use\u201d is required for testing and certification in the ONC Certification Program to meet the USCDI requirement to support the \u201cPatient Demographics\u201d Data Class: \u201cPrevious Name\u201d Data Element. A Health IT Module must support at least one Choice or Reference for US Core IG \u201cmust support\u201d elements with multiple Choices or References, respectively. A Health IT Module must be conformant to the US Core IG for all Choices and References included in its standardized API , and cannot misrepresent Choices via the standardized API (e.g. a Health IT Module cannot transform \u201cinteger\u201d values to \u201cstring\u201d values). A health IT developer must document which US Core IG Choices and References are supported by their Health IT Module via public technical documentation to meet the requirements at \u00a7 170.315( g)(10 )(viii) and the transparency conditions at \u00a7 170.404 ( a)(2 ). Information originating from the ( g)(10 )-certified Health IT Module must conform to the requirements included in the criterion, but legacy information and information from outside systems is not required to be mapped to the United States Core Data for Interoperability (USCDI) \u201cApplicable Standards\u201d and the US Core IG terminologies and value sets. However, health IT developers are encouraged to exceed the minimum requirements described in \u00a7 170.315( g)(10 ) to support the mapping of legacy information to the terminologies and value sets included in the USCDI and US Core IG where possible. Additional Clarifications to the ( g)(10 ) CCG : The API certification criterion in \u00a7\u2009170.315( g)(10 ) replaces the \u201capplication access\u2014data category request\u201d certification criterion (\u00a7\u2009170.315( g)(8 )) and supports API -enabled \u201cread\u201d services for single and multiple patients. The term \u201cservices\u201d includes all \u00a7 170.315( g)(10 )-related technical capabilities included in a Health IT Module presented for testing and certification. The API -enabled \u201cread\u201d services for single patients is intended to support EHI requests and responses for individual patient records and the API -enabled \u201cread\u201d services for multiple patients is intended to support EHI requests and responses for multiple patients\u2019 records. The scope of patient cohorts for \u201cpopulation services\u201d can include various groups defined at the discretion of the user of the API -enabled \u201cread\u201d services for multiple patients, including, for example, a group of patients that meet certain disease criteria or fall under a certain insurance plan. The information blocking policies established by the ONC Cures Act Final Rule do not compel health care providers to implement Health IT Modules certified to requirements in \u00a7\u2009170.315( g)(10 ). While there may be slight variation between each instance of a Standardized API for Patient and Population Services Health IT Module implemented by API Information Sources, we believe the standards that form the basis of the \u00a7 170.315( g)(10 ) certification criterion will enable interoperability across implementations. Examples of \u201cmust support\u201d in the US Core IG 3.1.1: In US Core 3.1.1, the profile element Observation.value[x] contains the following Choices: Quantity, CodeableConcept, string, boolean, integer, Range, Ratio, SampledData, time, dateTime, Period A Health IT Module must support at least one of these Choices via the ( g)(10 ) standardized API . In US Core 3.1.1, the profile element Provenance.agent.who contains the following References: US Core Practitioner Profile, US Core Patient Profile, US Core Organization Profile A Health IT Module must support at least one of these References via the ( g)(10 ) standardized API .","title":"Clarifications"},{"location":"g10-criterion/#data-response-single-patient-170315g10ia","text":"Regulation text : (i) Data response. (A) Respond to requests for a single patient's data according to the standard adopted in \u00a7\u2009170.215( a)(1 ) and implementation specification adopted in \u00a7\u2009170.215( a)(2 ), including the mandatory capabilities described in \u201cUS Core Server CapabilityStatement,\u201d for each of the data included in the standard adopted in \u00a7\u2009 170.213 . All data elements indicated as \u201cmandatory\u201d and \u201cmust support\u201d by the standards and implementation specifications must be supported. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): All data elements and operations indicated as \u201cmandatory\u201d and \u201cmust support\u201d by the standards and implementation specifications must be supported and are in-scope for testing. For \u201cEncounter,\u201d \u201cOrganization,\u201d and \u201cPractitioner,\u201d US Core IG profiles, only the \u201cread\u201d type interaction must be supported and will be included in testing and certification. For the \u201cLocation\u201d FHIR resource, Health IT Modules must either demonstrate support for the \u201cread\u201d type interaction or demonstrate support for providing the \u201cLocation\u201d and FHIR resource references as a contained resource. The \u201csearch\u201d type interactions for these profiles and resource are not in scope for testing and certification. Health IT Modules must support these US Core IG profiles / FHIR resource because they are included as \u201cmust support\u201d data elements in US Core IG profiles required by the USCDI. Health IT Modules must support provenance according to the \u201cBasic Provenance Guidance\u201d section of the US Core IG .","title":"Data Response (Single Patient) - \u00a7 170.315(g)(10)(i)(A)"},{"location":"g10-criterion/#data-response-multiple-patients-170315g10ib","text":"Regulation text : (B) Respond to requests for multiple patients' data as a group according to the standard adopted in \u00a7\u2009170.215( a)(1 ), and implementation specifications adopted in \u00a7\u2009170.215( a)(2 ) and (4), for each of the data included in the standard adopted in \u00a7\u2009 170.213 . All data elements indicated as \u201cmandatory\u201d and \u201cmust support\u201d by the standards and implementation specifications must be supported. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): Health IT Modules may support scopes using either \u201csystem/*.read\u201d or a list of \u201csystem/[resource].read,\u201d where [resource] is the FHIR resource name, to enable the export of multiple patients\u2019 data as a group. During testing and certification for multiple patient services, Health IT Modules must demonstrate support for \u201cEncounter,\u201d \u201cOrganization,\u201d and \u201cPractitioner\u201d US Core IG FHIR Profiles. Health IT Modules must demonstrate support for \u201cLocation\u201d FHIR resources by providing this resource as part of the multiple patient services response, or by including it as a contained resource as part of the multiple patient services response. Health IT Modules must support provenance according to the \u201cBasic Provenance Guidance\u201d section of the US Core IG .","title":"Data Response (Multiple Patients) - \u00a7 170.315(g)(10)(i)(B)"},{"location":"g10-criterion/#supported-search-operations-single-patient-170315g10iia","text":"Regulation text : (ii) Supported search operations. (A) Respond to search requests for a single patient's data consistent with the search criteria included in the implementation specification adopted in \u00a7\u2009170.215( a)(2 ), specifically the mandatory capabilities described in \u201cUS Core Server CapabilityStatement.\u201d Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): All data elements indicated as \u201cmandatory\u201d and \u201cmust support\u201d by the standards and implementation specifications must be supported and are in scope for testing. Additional Clarifications to the ( g)(10 ) CCG : The scope of data available in the data responses defined in \u00a7 170.315( g)(10 )(i) must be supported for searches for multiple patients via the supported search operations finalized in \u00a7 170.315( g)(10 )(ii).","title":"Supported Search Operations (Single Patient) - \u00a7 170.315(g)(10)(ii)(A)"},{"location":"g10-criterion/#supported-search-operations-multiple-patients-170315g10iib","text":"Regulation text : (B) Respond to search requests for multiple patients' data consistent with the search criteria included in the implementation specification adopted in \u00a7\u2009170.215(a)(4) Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): No additional clarifications. Additional Clarifications to the ( g)(10 ) CCG : The scope of data available in the data responses defined in \u00a7 170.315( g)(10 )(i) must be supported for searches for multiple patients via the supported search operations finalized in \u00a7 170.315( g)(10 )(ii). The HL7 FHIR Bulk Data Access (Flat FHIR ) (v1.0.0: STU 1) implementation specification adopted in \u00a7 170.215(a)(4) includes mandatory support for the \u201cgroup-export\u201d \"OperationDefinition.\"","title":"Supported Search Operations (Multiple Patients) - \u00a7 170.315(g)(10)(ii)(B)"},{"location":"g10-criterion/#application-registration-170315g10iii","text":"Regulation text : (iii) Application registration. Enable an application to register with the Health IT Module's \u201cauthorization server.\u201d Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): Health IT presented for testing and certification must support app registration regardless of the scope of patient search utilized by the application (e.g. single or multiple). This certification criterion requires a health IT developer, as finalized in the Condition of Certification requirements, to demonstrate its registration process, but does not require conformance to a standard. The third-party application registration process that a health IT developer must meet under this criterion is not a form of review or \u201cvetting\u201d for purposes of this criterion. For demonstration of the SMART IG \"Standalone Launch\" steps, health IT developers are permitted to scope US Core IG resources that do not exist in either the standard adopted at \u00a7 170.213 (USCDI version 1) or the \"Compartment Patient\" section of the standard adopted at \u00a7 170.215( a)(1 ) ( HL7 FHIR Release 4.0.1) as either patient/[Resource] or user/[Resource]. These resources include \u201cEncounter,\u201d \u201cDevice,\u201d \u201cLocation,\u201d \u201cMedication,\u201d \u201cOrganization,\u201d \u201cPractitioner,\u201d and \u201cPractitionerRole.\u201d Health IT developers must document their supported scopes according to the technical documentation requirements at \u00a7 170.315( g)(10 )(viii)(A) and \u00a7 170.404 ( a)(2 ). Additional Clarifications to the ( g)(10 ) CCG : We expect that apps executed within an implementer\u2019s clinical environment will be registered with an authorization server, but we do not require a health IT developer to demonstrate its registration process for these \u201cprovider-facing\u201d apps. The requirement that health IT developers must enable an application to register with the \u00a7 170.315( g)(10 )-certified Health IT Module\u2019s authorization server only applies for the purposes of demonstrating technical conformance to the finalized certification criterion and API Condition and Maintenance of Certification requirements. The practices by all parties (including implementers of Health IT Modules) other than developers of certified Health IT Modules are not in scope for this certification criterion nor the associated Condition and Maintenance of Certification requirements. Any practices associated with third-party application review or \u201cvetting\u201d by implementers must not violate the information blocking provisions established in the ONC Cures Act Final Rule .","title":"Application Registration - \u00a7 170.315(g)(10)(iii)"},{"location":"g10-criterion/#secure-connection-patient-user-scopes-170315g10iva","text":"Regulation text : (iv) Secure connection. (A) Establish a secure and trusted connection with an application that requests data for patient and user scopes in accordance with the implementation specifications adopted in \u00a7\u2009170.215( a)(2 ) and (3). Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): Connections below TLS version 1.2 must be denied.","title":"Secure Connection (Patient / User Scopes) - \u00a7 170.315(g)(10)(iv)(A)"},{"location":"g10-criterion/#secure-connection-system-scopes-170315g10ivb","text":"Regulation text : (B) Establish a secure and trusted connection with an application that requests data for system scopes in accordance with the implementation specification adopted in \u00a7\u2009170.215(a)(4). Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): Connections below TLS version 1.2 must be denied.","title":"Secure Connection (System Scopes) - \u00a7 170.315(g)(10)(iv)(B)"},{"location":"g10-criterion/#first-time-authentication-authorization-for-single-patient-services-170315g10va1","text":"Regulation text : (v) Authentication and authorization\u2014(A) Authentication and authorization for patient and user scopes\u2014(1) First time connections\u2014(i) Authentication and authorization must occur during the process of granting access to patient data in accordance with the implementation specification adopted in \u00a7\u2009170.215( a)(3 ) and standard adopted in \u00a7\u2009170.215(b). (ii) A Health IT Module's authorization server must issue a refresh token valid for a period of no less than three months to applications capable of storing a client secret. (iii) A Health IT Module's authorization server must issue a refresh token for a period of no less than three months to native applications capable of securing a refresh token. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): Health IT Modules will be explicitly tested for US Core IG operations using authentication and authorization tokens acquired via the process described in the implementation specification adopted in \u00a7 170.215( a)(3 ). Only the relevant parts of the OpenID Connect Core 1.0 including errata set 1 adopted in \u00a7 170.215(b) that are also included in the implementation specification adopted in \u00a7 170.215( a)(3 ) will be in-scope for testing and certification. The \u201cSMART on FHIR Core Capabilities\u201d in \u00a7 170.215( a)(3 ) are explicitly required for testing and certification because these capabilities are otherwise indicated as optional in the implementation specification. As part of the \u201cpermission-patient\u201d \u201cSMART on FHIR Core Capability\u201d in \u00a7\u2009170.215( a)(3 ), Health IT Modules presented for testing and certification must include the ability for patients to authorize an application to receive their electronic health information (EHI) based on FHIR resource-level scopes. Specifically, this means patients would need to have the ability to authorize access to their EHI at the individual FHIR resource level, from one specific FHIR resource (e.g., \u201cImmunization\u201d) up to all FHIR resources necessary to implement the standard adopted in \u00a7\u2009 170.213 and implementation specification adopted in \u00a7\u2009170.215( a)(2 ). Although Health IT Modules presented for testing and certification must include the ability for patients to authorize an application to receive their EHI based on FHIR resource-level scopes, Health IT Modules are not prohibited from presenting authorization scopes in a more user-friendly format (e.g. grouping resources under categories, renaming the scopes for easier comprehension by the end-user, using more granular scopes), as long as the ability for patients to authorize applications based on resource-level scopes is available, if requested by the patient. Health IT Modules will only be tested for the \"Patient Access for Standalone Apps\" and \"Clinician Access for EHR Launch\" scenarios described in the standard adopted at \u00a7 170.215( a)(3 ). Since \"Encounter\" is not currently a USCDI Data Class or Data Element, we will not test Health IT Modules for support for \"context-ehr-encounter\" or \"context-standalone-encounter\" SMART on FHIR Core Capabilities described in the standard adopted at \u00a7\u2009170.215( a)(3 ).\u2009 Implementers of \u00a7\u2009170.315( g)(10 )-certified Health IT Modules should be mindful of the information blocking provisions. As part of the requirements at \u00a7\u2009170.315( g)(10 )(v)(A)(1)(iii), health IT developers must publish the method(s) by which their Health IT Modules support the secure issuance of an initial refresh token to native applications according to the technical documentation requirements at \u00a7\u2009170.315( g)(10 )(viii) and transparency conditions at \u00a7 170.404 ( a)(2 ). Application developer affirmations to health IT developers regarding the ability of their applications to secure a refresh token, a client secret, or both, must be treated in a good faith manner consistent with the provisions established in the openness and pro-competitive conditions at \u00a7\u2009 170.404 (a)(4). Health IT developers can determine the method(s) they use to support interactions with native applications and clarify that health IT developers are not required to support all methods third-party application developers seek to use. ONC recognizes there may be some ambiguity in the HL7 \u00ae SMART Application Launch Framework Implementation Guide Release 1.0.0 standard (incorporated by reference at \u00a7 170.215( a)(3 )) in its guidance for supporting native applications, in particular, in providing references to best practices, strategies, and examples such as \u201cOAuth 2.0 for Native Apps: 8.5. Client Authentication\u201d, \u201cOAuth 2.0 Dynamic Client Registration Protocol\u201d, and \u201cuniversal redirect_uris\u201d without a standardized solution. ONC provides flexibility for how the health IT developer implements the HL7 \u00ae SMART Application Launch Framework implementation specification, as long as the Certified Health IT Module supports for first time connections the issuance of three-month refresh tokens to native applications capable of securing a refresh token. The paragraph at \u00a7 170.215( a)(3 ) requires health IT developers to support the SMART Application Launch Framework Implementation Guide (SMART IG ) \u201cSMART [on FHIR ] Core Capabilities,\u201d including \u201cpermission-offline,\u201d which grants support for refresh tokens. The ONC Cures Act Final Rule states, \u201c\u2026Importantly, the implementation specification adopted in \u00a7\u2009170.215( a)(3 ) requires that patients have the ability to explicitly enable the \u201coffline_access\u201d scope during authorization. If the \u201coffline_access\u201d scope is not enabled by patients, patients will be required to re-authenticate and re-authorize an application's access to their EHI after the application's access token expires\u2026\u201d ( 85 FR 25747 ). However, the ability of a patient to explicitly enable the \u201coffline_access\u201d scope during authorization is not described in the implementation specification. ONC clarifies that health IT developers must support the ability for patients to be provided information about an application\u2019s request for persistent access prior to the patient sharing their health information, in order to enable patients to make an informed decision during authorization. Examples include, but are not limited to a health IT developer allowing patients to granularly grant \u201coffline-access\u201d scopes during authorization or clearly providing this information as a notice during authorization. The critical requirement is that patients are empowered to deny authorization for offline access. Additional Clarifications to the ( g)(10 ) CCG : We expect implementers of \u00a7 170.315( g)(10 )-certified Health IT Modules to have the capability of revoking refresh tokens where appropriate. Neither \u00a7 170.315( g)(10 ) nor applicable API Condition and Maintenance of Certification requirements require restricting discretion of implementers (health care providers, clinician practices, hospitals, etc.) to set the length of refresh tokens for users of the API including patients and health care providers to align with their institutional policies. Implementers of \u00a7 170.315( g)(10 )-certified Health IT Modules are not prohibited from implementing their \u00a7 170.315( g)(10 )-certified Health IT Modules in accordance with their organizational security policies and posture, including by instituting policies for reauthentication and re-authorization (e.g., health care providers and/or patients could always be required to re-authenticate and re-authorize after a set number of refresh tokens have been issued). Patients are not prohibited from changing the length of refresh tokens to the degree this option is available to them. Implementers of \u00a7\u2009170.315( g)(10 )-certified Health IT Modules should be mindful of information blocking provisions applicable to them and that requiring patients to reauthenticate and re-authorize at a high frequency could inhibit patient access and implicate information blocking. Refresh Tokens for Native Applications In RFC 6749 (OAuth 2.0) and the HL7 \u00ae SMART Application Launch Framework Implementation Guide Release 1.0.0 (SMART IG ) , some native applications are unable to claim they are confidential . By definition, these non-confidential native applications do not have a client_secret to exchange during the client authentication process. However, there are additional methods that non-confidential native applications can use to increase refresh token security during \u201cFirst time connections.\u201d Methods like Proof Key for Code Exchange (PKCE), the use of application-claimed, private-use Uniform Resource Identifier (URI) schemes as redirect URIs, and utilizing on device secure storage techniques to securely store the refresh token can increase the security of an initial refresh token. Methods like these ensure that an authorization server issues initial access and refresh tokens to the correct corresponding authorized application. The paragraph in \u00a7 170.315( g)(10 )(v)(A)(1)(iii) requires that Health IT Modules provide support for the issuance of an initial refresh token to native applications capable of securing a refresh token.","title":"First-time Authentication / Authorization for Single Patient Services - \u00a7 170.315(g)(10)(V)(A)(1)"},{"location":"g10-criterion/#subsequent-authentication-authorization-for-single-patient-services-170315g10va2","text":"Regulation text : (2) Subsequent connections. (i) Access must be granted to patient data in accordance with the implementation specification adopted in \u00a7\u2009170.215( a)(3 ) without requiring reauthorization and re-authentication when a valid refresh token is supplied by the application. (ii) A Health IT Module's authorization server must issue a refresh token valid for a new period of no less than three months to applications capable of storing a client secret. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): No additional clarifications. Additional Clarifications to the ( g)(10 ) CCG : For subsequent connections, certified Health IT Modules are not required to issue a new refresh token, but must issue a refresh token valid for a new period of no less than three months. Whether the application receives a \u201cnew\u201d refresh token is an implementation decision left to the health IT developer, as long as the \u201crefreshed\u201d refresh token is valid for a new period of no less than three months. Refresh Tokens and Clients \"Capable of Storing a Client Secret\" As specified in RFC 6749 (OAuth 2.0) and the HL7 \u00ae SMART Application Launch Framework Implementation Guide Release 1.0.0 (SMART IG ) , authorization servers send and receive refresh tokens from their clients in two different parts of an OAuth 2.0 flow. First, after resource owner authorization, the authorization server sends an initial refresh token to the client with the initial access token. Second, when an access token has expired and needs to be refreshed, a client exchanges a refresh token for a new access token and optionally another refresh token, which occurs without user authorization. During both exchanges, security is increased (i.e. protecting against leaked refresh tokens) for confidential clients that have a client secret used for client authentication. The ( g)(10 ) criterion paragraphs at \u00a7 170.315( g)(10 )(v)(A)(1)(ii) and \u00a7 170.315( g)(10 )(v)(A)(2)(ii) require that clients \u201ccapable of storing a client secret\u201d must be given refresh tokens during both of these parts of the OAuth 2.0 flow. Requiring that such clients be given a refresh token valid for a new period of three months during this second part of the OAuth 2.0 flow enables indefinite persistent access without the need for user re-authorization.","title":"Subsequent Authentication / Authorization for Single Patient Services - \u00a7 170.315(g)(10)(V)(A)(2)"},{"location":"g10-criterion/#authentication-authorization-for-multiple-patient-services-170315g10vb","text":"Regulation text : (B) Authentication and authorization for system scopes. Authentication and authorization must occur during the process of granting an application access to patient data in accordance with the \u201cSMART Backend Services: Authorization Guide\u201d section of the implementation specification adopted in \u00a7\u2009170.215(a)(4) and the application must be issued a valid access token. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): No additional clarifications.","title":"Authentication / Authorization for Multiple Patient Services - \u00a7 170.315(g)(10)(V)(B)"},{"location":"g10-criterion/#patient-authorization-revocation-170315g10vi","text":"Regulation text : (vi) Patient authorization revocation. A Health IT Module's authorization server must be able to revoke an authorized application's access at a patient's direction. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): This is a functional requirement to allow health IT developers the ability to implement it in a way that best suits their existing infrastructure and allows for innovative models for authorization revocation to develop. Patients are expected to have the ability to revoke an authorized application\u2019s access to their EHI at any time.","title":"Patient Authorization Revocation - \u00a7 170.315(g)(10)(VI)"},{"location":"g10-criterion/#token-introspection-170315g10vii","text":"Regulation text : (vii) Token introspection. A Health IT Module's authorization server must be able to receive and validate tokens it has issued. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): Although ONC does not specify a standard for token introspection, ONC encourages industry to coalesce around using a common standard, like OAuth 2.0 Token Introspection (RFC 7662).","title":"Token Introspection - \u00a7 170.315(g)(10)(VII)"},{"location":"g10-criterion/#technical-api-documentation-content-170315g10viiia","text":"Regulation text : (viii) Documentation. (A) The API (s) must include complete accompanying documentation that contains, at a minimum: (1) API syntax, function names, required and optional parameters supported and their data types, return variables and their types/structures, exceptions and exception handling methods and their returns. (2) The software components and configurations that would be necessary for an application to implement in order to be able to successfully interact with the API and process its response(s). (3) All applicable technical requirements and attributes necessary for an application to be registered with a Health IT Module's authorization server. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): Health IT developers are not required to re-publish documentation from the adopted standards and implementation specifications. However, health IT developers must publish documentation that goes beyond the adopted standards and implementation specifications. Health IT developers are expected to disclose any additional data their \u00a7 170.315( g)(10 )-certified Health IT Module supports in the context of the adopted standards and implementation specifications.","title":"Technical API Documentation Content - \u00a7 170.315(g)(10)(VIII)(A)"},{"location":"g10-criterion/#technical-api-documentation-availability-170315g10viiib","text":"Regulation text : (B) The documentation used to meet paragraph ( g)(10 )(viii)(A) of this section must be available via a publicly accessible hyperlink without any preconditions or additional steps. Clarifications Included in ( g)(10 ) Certification Companion Guide ( CCG ): No additional clarifications.","title":"Technical API Documentation Availability - \u00a7 170.315(g)(10)(VIII)(B)"},{"location":"g10-criterion/#other-standards-not-directly-referenced-in-170315g10","text":"","title":"Other standards not directly referenced in \u00a7 170.315(g)(10)"},{"location":"g10-criterion/#bulk-fhir-import","text":"We have not included a requirement for Bulk FHIR import because the standards for these features are still being developed by industry. Applications or systems seeking to import information formatting according to the HL7 \u00ae FHIR Bulk Data Access (Flat FHIR ) (V1.0.0:STU 1) can use several methods developed by industry, or can refer to Bulk FHIR import methods being defined by HL7 at the HL7 FHIR Bulk Data GitHub page.","title":"Bulk FHIR Import"},{"location":"g9-criterion/","text":"TODO!","title":"G9 criterion"}]}